<!DOCTYPE html>
<html lang="fr" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="Guide de montage d'un système d'optimisation de charge en continu pour véhicules Tesla">
<meta property="og:title" content="Tesla optimizer">
<meta property="og:description" content="Guide de montage d'un système d'optimisation de charge en continu pour véhicules Tesla">
<meta property="og:image" content="https://tesla-optimizer.github.io/assets/open-graph-logo.png">
<meta name="generator" content="Paradox, paradox-material-theme=0.6.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="Guide de montage d'un système d'optimisation de charge en continu pour véhicules Tesla">
<link rel="shortcut icon" href="assets/favicon.png">
<title>Compteurs électriques Wifi · </title>
<link rel="stylesheet" href="assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="assets/stylesheets/application-palette.22915126.css">
<meta name="theme-color" content="#7cb342" />
<link rel="stylesheet" href="lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="lib/prettify/prettify.css">
<script src="assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Overpass:300,400,400i,700|Overpass+Mono">
<style>
body,input{font-family:"Overpass","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Overpass Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="assets/fonts/font-awesome.css">
<link rel="stylesheet" href="assets/fonts/material-icons.css">
<link rel="stylesheet" href="assets/stylesheets/paradox-material-theme.css">
</head>
<body
data-md-color-primary="light-green"
data-md-color-accent="light-green"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="index.html" title="" class="md-header-nav__button md-logo">
<img src="assets/logo-symbol-only.svg" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
</span>
<span class="md-header-nav__topic">
Compteurs électriques Wifi
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/tesla-optimizer/tesla-optimizer-tutorial"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tesla-optimizer/tesla-optimizer-tutorial
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="index.html" title="" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="assets/logo-symbol-only.svg" width="24" height="24">
</a>
<a href="index.html" title="">
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/tesla-optimizer/tesla-optimizer-tutorial"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
tesla-optimizer/tesla-optimizer-tutorial
</div>
</a>

</div>
<ul>
  <li><a href="introduction.html" class="page">Introduction</a></li>
  <li><a href="materiel.html" class="page">Matériel</a></li>
  <li><a href="ha.html" class="page">Installation de Home-Assistant</a></li>
  <li><a href="tesla-ha.html" class="page">Tesla custom integration</a></li>
  <li><a href="compteurs.html" class="active page">Compteurs électriques Wifi</a></li>
  <li><a href="automation.html" class="page">Automatisation</a></li>
  <li><a href="dashboard.html" class="page">Tableau de bord</a></li>
  <li><a href="about.html" class="page">A propos de ce guide</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="compteurs.html#compteurs-électriques-wifi" class="header">Compteurs électriques Wifi</a>
  <ul>
    <li><a href="compteurs.html#compteur-triphasé" class="header">Compteur triphasé</a></li>
    <li><a href="compteurs.html#compteur-monophasé" class="header">Compteur monophasé</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 0.3.2
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="compteurs.html#compteurs-électriques-wifi" class="header">Compteurs électriques Wifi</a>
  <ul>
    <li><a href="compteurs.html#compteur-triphasé" class="header">Compteur triphasé</a></li>
    <li><a href="compteurs.html#compteur-monophasé" class="header">Compteur monophasé</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#compteurs-électriques-wifi" name="compteurs-électriques-wifi" class="anchor"><span class="anchor-link"></span></a>Compteurs électriques Wifi</h1>
<p>Pour suivre en continu la consommation et production de courant, nous installons un compteur général trois phases et un compteur monophase, respectivement.</p><div class="callout warning "><div class="callout-title">Avertissement</div>
<p>Bien que ce guide explique le montage attendu sur le panneau électrique central, il est recommandé de faire appel au spécialiste pour l&rsquo;installation. Le guide décline bien sûr toute responsabilité en cas d&rsquo;erreur ou d&rsquo;accident à la suite ou lors de l&rsquo;installation.</p></div>
<h2><a href="#compteur-triphasé" name="compteur-triphasé" class="anchor"><span class="anchor-link"></span></a>Compteur triphasé</h2>
<p><img src="assets/shelly-3em-overview.png" alt="shelly-3em-overview" /></p>
<blockquote>
  <p>Vue d&rsquo;ensemble de l&rsquo;installation</p>
</blockquote>
<p>Ce compteur se branche directement sur les trois phases, au point d&rsquo;entrée du réseau. La mesure se fait grâce à des pinces à induction, qu&rsquo;il suffit de positionner autour du cable (dans la direction indiquée pour que les valeurs soient du bon signe). L&rsquo;alimentation du boîtier lui-même se réalise aussi sur chaque phase ainsi qu&rsquo;au neutre. Pour avoir une mesure correcte, il faut simplement faire attention à respecter le bon ordre et brancher la pince sur le cable de couleur correspondant à celui de l&rsquo;alimentation.</p>
<p><img src="assets/shelly-3em.png" alt="shelly-3em" /></p>
<blockquote>
  <p>Shelly 3EM installé: on aperçoit la pince à induction en place autour de chaque phase (noir, brun, gris)</p>
</blockquote>
<p>Voici les étapes:</p>
<ol>
  <li>Choisir un disjoncteur pour saisir l&rsquo;alimentation, il n&rsquo;est pas vraiment important lequel, mais il faudra couper l&rsquo;alimentation.</li>
  <li>Couper l&rsquo;alimentation de toute la rangée ou se situe le disjoncteur. Bien vérifier que le courant est éteint avec un multimètre, en prenant le voltage AC sur chaque phase où il est prévu de brancher le cable.
    <p><img src="assets/disjoncteurs-rangee.png" alt="disjoncteurs-rangee" /></p>
    <blockquote>
      <p>Couper le courant sur la rangée ainsi que sur le disjoncteur lui-même (note: sur la photo, le courant est branché)</p>
    </blockquote>
  </li>
  <li>
    <p>Dévisser le connecteur sous le disjoncteur de telle manière à pouvoir rajouter le cable d&rsquo;alimentation à l&rsquo;intérieur. Brancher l&rsquo;autre extrémité sur le Shelly. Faire de même pour chaque phase (brun, noir, gris), ainsi que pour le neutre (bleu).</p>
    <p><img src="assets/shelly-3em-alim.png" alt="shelly-3em-alim" /></p>
    <blockquote>
      <p>Branchement des cables d&rsquo;alimentation du Shelly 3EM. On distingue de gauche à droite la prise sur le neutre (bleu) et sur chaque phase (brun, noir, gris). (note: sur la photo, le courant est branché, il faut évidemment le débrancher pour l&rsquo;installation)</p>
    </blockquote>
  </li>
  <li>
  <p>Installer le Shelly sur le rail, brancher les pinces et les installer sur le cable correspondant, en prenant garde à respecter la direction du courant. Le manuel d&rsquo;utilisation recommende de brancher la pince avant sur le Shelly. Il n&rsquo;est pas nécessaire de couper le courant général pour positionner les pinces, mais prêter attention ou l&rsquo;on met les doigts! <img src="assets/clamp.png" alt="clamp" /></p>
  <blockquote>
    <p>Pince à induction en place</p>
  </blockquote></li>
  <li>
  <p>Une fois le Shelly branché, il crée son propre Wifi pour permettre de le configurer avec l&rsquo;app Shelly. Se tenir près avec le smartphone et suivre la procédure dans l&rsquo;app afin le rajouter au Wifi principal. Il faut parfois plusieurs tentatives, ne pas se décourager. Une fois le Wifi principal rejoint, la connection est stable.</p></li>
  <li>
  <p>Se connecter sur Home Assistant <a href="http://homeassistant.local:8123/config/integrations"><em>Configuration -&gt; Server Controls</em></a>. Il devrait avoir détecté automatiquement la présence du Shelly 3EM sur le réseau. Rajouter l&rsquo;intégration et vérifier que les valeurs sont correctes.</p></li>
</ol>
<h2><a href="#compteur-monophasé" name="compteur-monophasé" class="anchor"><span class="anchor-link"></span></a>Compteur monophasé</h2>
<p><img src="assets/shelly-2em.png" alt="shelly-2em" /></p>
<blockquote>
  <p>Compteur shelly 2EM, qui permet le raccord de deux pinces. L&rsquo;idée est de mesurer en continu la quantité de courant produite par les panneaux solaires. La deuxième pince est optionnelle, dans mon cas elle est raccordée à la prise du garage pour pouvoir suivre la consommation relative à la charge.</p>
</blockquote>
<p>Ce compteur se branche sur le cable d&rsquo;injection de courant solaire (onduleur mono-phasé). L&rsquo;installation se fait de la même manière que pour le compteur tri-phasé. Il faut bien faire attention à prendre l&rsquo;alimentation sur la même phase que celle qui réceptionne le courant solaire. </p>
<p><img src="assets/solar-clamp.png" alt="solar-clamp" /></p>
<blockquote>
  <p>La pince à induction mesure en continu le courant produit par l&rsquo;onduleur</p>
</blockquote><div class="callout note tip"><div class="callout-title">Etre en phase</div>
<p>Même si d&rsquo;un point de vue tarifaire cela ne fait aucune différence, il est plus rationnel de brancher le chargeur 220V Tesla sur la même phase que celle de l&rsquo;onduleur, afin de véritablement pouvoir utiliser directement le courant produit (sans aller-retour au réseau). Dans mon cas, la prise garage n&rsquo;était pas sur la même phase que l&rsquo;onduleur, j&rsquo;ai donc dû la changer.</p></div>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.3.2
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="tesla-ha.html" title="Tesla custom integration" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Tesla custom integration
</span>
</div>
</a>
<a href="automation.html" title="Automatisation" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Automatisation
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Tesla-optimizer contributors
</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
<div class="md-footer-social">
<a href="https://github.com/tesla-optimizer/tesla-optimizer-tutorial" class="md-footer-social__link fa fa-github"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="assets/javascripts/application.583bbe55.js"></script>
<script src="assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"."}})</script>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
<script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","G-JPNJ7NZED4"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})});if(document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>

</body>
</html>